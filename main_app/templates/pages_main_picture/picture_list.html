<!DOCTYPE html>
{% load static %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–ª—å–±–æ–º—ã</title>
    <!-- Bootstrap CSS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome –¥–ª—è –∏–∫–æ–Ω–æ–∫ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/main_pagefile/mainpage.css' %}">
    <link rel="stylesheet" href="{% static 'css/main_picture/picture.css' %}">
</head>
<body>
    <!-- –ù–∞–≤–±–∞—Ä -->
    <nav class="navbar navbar-expand-lg sticky-top custom-navbar">
        <div class="container">
            <a class="navbar-brand" href="#">ùìêùìµùì≤ùìºùì±ùìÆùìª ùìúùì≤ùìªùîÉùì∏</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'home' %}">–ì–ª–∞–≤–Ω–∞—è</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">–ë–∏–æ–≥—Ä–∞—Ñ–∏—è</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'album_list' %}">–ê–ª—å–±–æ–º—ã –∏ –∫–∞—Ç–∞–ª–æ–≥–∏</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'book_list' %}">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'news_list' %}">–ù–æ–≤–æ—Å—Ç–∏</a>
                    </li>

                </ul>

                {% if request.user.is_authenticated %}
                <div class="d-flex align-items-center">
                    <div class="dropdown">
                        <a href="#" class="d-flex align-items-center user-dropdown-toggle dropdown-toggle"
                            id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="navbar-text text-white">{{ request.user.username }}</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-heart me-2"></i>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="{% url 'logout' %}"><i class="bi bi-box-arrow-right me-2"></i>–í—ã–π—Ç–∏</a></li>
                        </ul>
                    </div>
                </div>
                {% else %}
                <div class="d-flex gap-2">
                    <a href="{% url 'login' %}" class="btn custom-main-button"><i class="bi bi-person-plus me-1"></i>–í–æ–π—Ç–∏</a>
                    <a href="{% url 'register' %}" class="btn custom-main-button"><i class="bi bi-person-plus me-1"></i>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>
                {% endif %}

            </div>
        </div>
    </nav>

<!--d-->
    <section class="py-5 warm-background">
          <!-- —ç—Ç–æ—Ç –±–ª–æ–∫ –¥–æ–±–∞–≤–ª—è–µ–º -->
            <div class="container">
               <div class="scroll-wrapper">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <h2>–ê–ª—å–±–æ–º—ã</h2>
                        <p> –ê–ª–∏—à–µ—Ä –ú–∏—Ä–∑–æ –£–∑–±–µ–∫—Å–∫–∏–π —Ö—É–¥–æ–∂–Ω–∏–∫, —á—å–∏ —Ä–∞–±–æ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≥–∞–ª–µ—Ä–µ—è—Ö, –º—É–∑–µ—è—Ö –∏ —á–∞—Å—Ç–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö –ì–µ—Ä–º–∞–Ω–∏–∏, –§—Ä–∞–Ω—Ü–∏–∏, –ò—Ç–∞–ª–∏–∏, –ò—Å–ø–∞–Ω–∏–∏, –ù–æ—Ä–≤–µ–≥–∏–∏, –õ—é–∫—Å–µ–º–±—É—Ä–≥–∞, –ë–æ–ª–≥–∞—Ä–∏–∏, –Æ–≥–æ—Å–ª–∞–≤–∏–∏, –†–æ—Å—Å–∏–∏, –Ø–ø–æ–Ω–∏–∏, –ò–Ω–¥–∏–∏, –ú–∞–¥–∞–≥–∞—Å–∫–∞—Ä–∞ –∏ –°–®–ê. –í —Å–≤–æ–∏—Ö —Ä–∞–±–æ—Ç–∞—Ö —Å–æ—á–µ—Ç–∞–ª —ç–ª–µ–º–µ–Ω—Ç—ã –∏–º–ø—Ä–µ—Å—Å–∏–æ–Ω–∏–∑–º–∞ –∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞ —Å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ —É–∑–±–µ–∫—Å–∫–∏–º–∏ –≤–∏–¥–∞–º–∏ –∏—Å–∫—É—Å—Å—Ç–≤–∞, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ –º–∏–Ω–∏–∞—Ç—é—Ä–Ω–∞—è –∂–∏–≤–æ–ø–∏—Å—å –∏ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞. –ï–≥–æ —Å—é–∂–µ—Ç—ã –≤–∞—Ä—å–∏—Ä—É—é—Ç—Å—è –æ—Ç –ø–µ–π–∑–∞–∂–µ–π –∏ –Ω–∞—Ç—é—Ä–º–æ—Ä—Ç–æ–≤ –¥–æ –∏–Ω—Ç–∏–º–Ω—ã—Ö —Å—Ü–µ–Ω –∏–∑ –∂–∏–∑–Ω–∏ —ç—Ç–Ω–∏—á–µ—Å–∫–∏—Ö —É–∑–±–µ–∫–æ–≤. –ê–∫–∞–¥–µ–º–∏–∫ –ê–∫–∞–¥–µ–º–∏–∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–∞</p>
                    </div>
                </div>
               </div>
            </div>
    </section>

    <!-- picture_list.html -->
<div class="container py-4">
  <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–∞—Ä—Ç–∏–Ω -->
  <div class="row g-4" id="picture-grid">
    {% for picture in pictures %}
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <img src="{{ picture.picture.url }}" class="card-img-top" style="height: 200px; object-fit: cover;">
        <div class="card-body">
          <h5 class="card-title">{{ picture.title }}</h5>
          <div class="d-flex justify-content-between align-items-center">
            <button class="btn btn-sm btn-outline-primary view-details"
                    data-bs-toggle="collapse"
                    href="#picture-{{ picture.id }}">
              –ü–æ–¥—Ä–æ–±–Ω–µ–µ
            </button>
            <button class="btn btn-sm like-picture {% if request.user in picture.likes.all %}text-danger{% else %}text-muted{% endif %}"
                    data-picture-id="{{ picture.id }}">
              <i class="bi bi-heart{% if request.user in picture.likes.all %}-fill{% endif %}"></i>
              <span class="like-count">{{ picture.like_count }}</span>
            </button>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- –î–µ—Ç–∞–ª–∏ –∫–∞—Ä—Ç–∏–Ω -->
  {% for picture in pictures %}
  <div class="collapse mt-4" id="picture-{{ picture.id }}" data-bs-parent="#picture-grid">
    <div class="card shadow">
      <div class="row g-0">
        <div class="col-md-6">
          <img src="{{ picture.picture.url }}" class="img-fluid rounded-start" style="max-height: 500px;">
        </div>
        <div class="col-md-6">
          <div class="card-body">
            <h3>{{ picture.title }}</h3>
            <p class="text-muted">{{ picture.style }} ¬∑ {{ picture.date_made|date:"Y" }}</p>
            <p>{{ picture.description_photo }}</p>

            <!-- –õ–∞–π–∫–∏ -->
            <button class="btn like-picture {% if request.user in picture.likes.all %}text-danger{% else %}text-muted{% endif %}"
                    data-picture-id="{{ picture.id }}">
              <i class="bi bi-heart{% if request.user in picture.likes.all %}-fill{% endif %}"></i>
              <span class="like-count">{{ picture.like_count }}</span> –ª–∞–π–∫–æ–≤
            </button>

            <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ -->
            <div class="mt-4">
              <h5>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h5>
              <div class="comments-container">
                {% for comment in picture.commentses.all %}
                <div class="card mb-2" id="comment-{{ comment.id }}">
                  <div class="card-body p-2">
                    <div class="d-flex justify-content-between">
                      <strong>{{ comment.author.username }}</strong>
                      {% if comment.author == request.user %}
                      <div>
                        <button class="btn btn-sm btn-outline-secondary edit-comment"
                                data-comment-id="{{ comment.id }}">‚úèÔ∏è</button>
                        <button class="btn btn-sm btn-outline-danger delete-comment"
                                data-comment-id="{{ comment.id }}">üóëÔ∏è</button>
                      </div>
                      {% endif %}
                    </div>
                    <p class="mb-1 comment-text">{{ comment.text }}</p>
                    <small class="text-muted">
                      <button class="btn btn-sm like-comment {% if request.user in comment.likes.all %}text-danger{% else %}text-muted{% endif %}"
                              data-comment-id="{{ comment.id }}">
                        <i class="bi bi-heart{% if request.user in comment.likes.all %}-fill{% endif %}"></i>
                        <span class="like-count">{{ comment.like_count }}</span>
                      </button>
                    </small>
                  </div>
                </div>
                {% endfor %}
              </div>

              <!-- –§–æ—Ä–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è -->
              <form class="mt-3 add-comment-form" data-picture-id="{{ picture.id }}">
                {% csrf_token %}
                <div class="input-group">
                  <input type="text" name="text" class="form-control" placeholder="–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" required>
                  <button class="btn btn-primary" type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<script>
// –ü–æ–ª—É—á–µ–Ω–∏–µ CSRF-—Ç–æ–∫–µ–Ω–∞ –∏–∑ cookie
function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== '') {
    const cookies = document.cookie.split(';');
    for (let i = 0; i < cookies.length; i++) {
      const cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}
const csrftoken = getCookie('csrftoken');

// –õ–∞–π–∫–∏ –∫–∞—Ä—Ç–∏–Ω
document.querySelectorAll('.like-picture').forEach(btn => {
  btn.addEventListener('click', async function () {
    const pictureId = this.dataset.pictureId;
    const response = await fetch(`/picture/${pictureId}/like/`, {
      method: 'POST',
      headers: {'X-CSRFToken': csrftoken},
    });

    if (!response.ok) return;

    const data = await response.json();
    document.querySelectorAll(`.like-picture[data-picture-id="${pictureId}"]`).forEach(el => {
      el.classList.toggle('text-danger', data.liked);
      el.classList.toggle('text-muted', !data.liked);
      el.innerHTML = `<i class="bi bi-heart${data.liked ? '-fill' : ''}"></i> <span class="like-count">${data.likes_count}</span>`;
    });
  });
});

// –õ–∞–π–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
document.querySelectorAll('.like-comment').forEach(btn => {
  btn.addEventListener('click', async function () {
    const commentId = this.dataset.commentId;
    const response = await fetch(`/picture/comment/${commentId}/like/`, {
      method: 'POST',
      headers: {'X-CSRFToken': csrftoken},
    });

    if (!response.ok) return;

    const data = await response.json();
    this.classList.toggle('text-danger', data.liked);
    this.classList.toggle('text-muted', !data.liked);
    this.innerHTML = `<i class="bi bi-heart${data.liked ? '-fill' : ''}"></i> <span class="like-count">${data.likes_count}</span>`;
  });
});

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
document.querySelectorAll('.add-comment-form').forEach(form => {
  form.addEventListener('submit', async function (e) {
    e.preventDefault();
    const pictureId = this.dataset.pictureId;
    const formData = new FormData(this);

    const response = await fetch(`/add_comment_picture/${pictureId}/`, {
      method: 'POST',
      body: formData,
      headers: {'X-CSRFToken': csrftoken},
    });

    if (response.ok) {
      location.reload(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
    }
  });
});

// –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
document.querySelectorAll('.delete-comment').forEach(btn => {
  btn.addEventListener('click', async function () {
    if (confirm('–£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?')) {
      const commentId = this.dataset.commentId;
      const response = await fetch(`/delete_comment_picture/${commentId}/`, {
        method: 'POST',
        headers: {'X-CSRFToken': csrftoken},
      });
      if (response.ok) {
        location.reload();
      }
    }
  });
});
// –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
document.querySelectorAll('.edit-comment').forEach(btn => {
  btn.addEventListener('click', function () {
    const commentId = this.dataset.commentId;
    const commentCard = document.getElementById(`comment-${commentId}`);
    const commentTextElem = commentCard.querySelector('.comment-text');
    const originalText = commentTextElem.textContent.trim();

    // –£–∂–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è ‚Äî –Ω–µ –¥—É–±–ª–∏—Ä—É–π
    if (commentCard.querySelector('.edit-form')) return;

    // –°–∫—Ä—ã—Ç—å —Ç–µ–∫—É—â–∏–π —Ç–µ–∫—Å—Ç
    commentTextElem.style.display = 'none';

    // –í—Å—Ç–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    const form = document.createElement('form');
    form.className = 'edit-form input-group mt-2';
    form.innerHTML = `
      <input type="text" name="text" class="form-control" value="${originalText}" required>
      <button class="btn btn-success" type="submit">üíæ</button>
      <button class="btn btn-secondary cancel-edit" type="button">‚úñÔ∏è</button>
    `;
    commentTextElem.after(form);

    // –û—Ç–º–µ–Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    form.querySelector('.cancel-edit').addEventListener('click', () => {
      form.remove();
      commentTextElem.style.display = '';
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
    form.addEventListener('submit', async function (e) {
      e.preventDefault();
      const newText = form.querySelector('input[name="text"]').value;

      const response = await fetch(`/update_comment_picture/${commentId}/`, {
        method: 'POST',
        headers: {
          'X-CSRFToken': csrftoken,
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: new URLSearchParams({ text: newText })
      });

      if (response.ok) {
        location.reload(); // –ò–ª–∏ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
      }
    });
  });
});

</script>


    <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ñ–æ—Ä–º–∞ -->
    <section class="py-5 warm-background">
        <div class="container">
            <div class="row">
                {% if request.user.is_authenticated %}
                <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É -->
                <form method="post" action="{% url 'contact' %}">
                    {% csrf_token %}
                    <!-- Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (readonly) -->
                    <div class="mb-3">
                        <label for="email" class="form-label">–í–∞—à Email</label>
                        <input type="email" class="form-control" id="email" value="{{ request.user.email }}" readonly>
                    </div>
                    <!-- –¢–µ–º–∞ -->
                    <div class="mb-3">
                        <label for="subject" class="form-label">–¢–µ–º–∞</label>
                        <input type="text" class="form-control" id="subject" name="subject" required>
                    </div>
                    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ -->
                    <div class="mb-3">
                        <label for="message" class="form-label">–°–æ–æ–±—â–µ–Ω–∏–µ</label>
                        <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn custom-pictures-button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </form>
                {% else %}
                <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ -->
                <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, <a href="{% url 'login' %}">–≤–æ–π–¥–∏—Ç–µ</a> –≤ –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.</p>
                {% endif %}

                <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
                <div class="col-md-6">
                    <h2 class="mb-4">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
                    <p><i class="fas fa-envelope me-2"></i> artist@example.com</p>
                    <p><i class="fas fa-phone me-2"></i> +1 (234) 567-89-00</p>
                    <div class="mt-4">
                        <h5>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:</h5>
                        <a href="https://www.instagram.com/alishermirzo_artist?igsh=MXE3d2ozbzY1MDB6eg==" class="btn btn-outline-dark me-2">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.facebook.com/share/16hyYqLerk/?mibextid=wwXIfr" class="btn btn-outline-dark me-2">
                            <i class="fab fa-facebook"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="py-5 custom-footer">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <h5 class="mb-4">–ê–ª–∏—à–µ—Ä –ú–∏—Ä–∑–æ</h5>
                    <p>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—É–¥–æ–∂–Ω–∏–∫–∞ –∏ –º—ã—Å–ª–∏—Ç–µ–ª—è. –ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–µ, –∫–∞—Ä—Ç–∏–Ω–∞—Ö, –∞–ª—å–±–æ–º–∞—Ö –∏ –∫–Ω–∏–≥–∞—Ö –∞–≤—Ç–æ—Ä–∞.</p>
                    <div class="social-links mt-3">
                        <a href="https://www.instagram.com/alishermirzo_artist?igsh=MXE3d2ozbzY1MDB6eg==" class="text-white me-3"><i class="bi bi-instagram"></i></a>
                        <a href="https://www.facebook.com/share/16hyYqLerk/?mibextid=wwXIfr" class="text-white me-3"><i class="bi bi-facebook"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5 class="mb-4">–ù–∞–≤–∏–≥–∞—Ü–∏—è</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li class="mb-2"><a href="#biography" class="text-white text-decoration-none">–ë–∏–æ–≥—Ä–∞—Ñ–∏—è</a></li>
                        <li class="mb-2"><a href="#artworks" class="text-white text-decoration-none">–ö–∞—Ä—Ç–∏–Ω—ã</a></li>
                        <li class="mb-2"><a href="#albums" class="text-white text-decoration-none">–ê–ª—å–±–æ–º—ã</a></li>
                        <li class="mb-2"><a href="#books" class="text-white text-decoration-none">–ö–Ω–∏–≥–∏</a></li>
                        <li class="mb-2"><a href="#contact" class="text-white text-decoration-none">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    </ul>
                </div>

                <div class="newsletter-box">
                    <form method="post" action="{% url 'subscribe_to_news' %}">
                        {% csrf_token %}

                        <div class="mb-3">
                            {% if request.user.is_authenticated %}
                                <input type="email" name="email" class="form-control" value="{{ request.user.email }}" readonly>
                            {% else %}
                                <input type="email" name="email" class="form-control" placeholder="–í–∞—à email" required>
                            {% endif %}
                        </div>

                        <!-- honeypot –ø–æ–ª–µ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –±–æ—Ç–æ–≤ -->
                        <input type="text" name="website" style="display:none">

                        <button type="submit" class="btn custom-main-button w-100">–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è</button>
                    </form>
                </div>
            </div>
            <hr class="my-4">
            <div class="row">
                <div class="col-md-6 text-center text-md-start">
                    <p class="mb-0">&copy; 2025 –ê–ª–∏—à–µ—Ä –ú–∏—Ä–∑–æ. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <p class="mb-0">
                        <a href="#" class="text-white text-decoration-none me-3">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                        <a href="#" class="text-white text-decoration-none">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

<script src="{% static 'js/picture_js/picture.js' %}"></script>
</body>
</html>
